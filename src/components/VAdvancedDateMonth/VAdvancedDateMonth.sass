.v-advanced-date-month
  user-select: none

  &__weekdays
    display: grid
    grid-template-columns: repeat(7, var(--v-advanced-date-cell-size))
    gap: 0
    margin-bottom: 4px

  &__weekday
    display: flex
    align-items: center
    justify-content: center
    width: var(--v-advanced-date-cell-size)
    height: 28px
    font-size: 0.75rem
    font-weight: 600
    color: rgba(var(--v-theme-on-surface), 0.6)
    text-transform: uppercase

  &__week
    display: grid
    grid-template-columns: repeat(7, var(--v-advanced-date-cell-size))
    gap: 0

  &__week-number
    display: flex
    align-items: center
    justify-content: center
    width: 28px
    font-size: 0.625rem
    color: rgba(var(--v-theme-on-surface), 0.38)

  &__week-header
    font-weight: 600

  // When week numbers are shown, adjust grid
  &__weekdays,
  &__week
    .v-advanced-date-month__week-number + &
      grid-template-columns: 28px repeat(7, var(--v-advanced-date-cell-size))

  &__day
    position: relative
    display: flex
    align-items: center
    justify-content: center
    width: var(--v-advanced-date-cell-size)
    height: var(--v-advanced-date-cell-size)
    padding: 0
    margin: 0
    border: none
    background: transparent
    cursor: pointer
    outline: none
    transition: background-color var(--v-advanced-date-transition-duration) ease, transform 150ms ease
    -webkit-tap-highlight-color: transparent

    &:focus-visible
      z-index: 2
      box-shadow: 0 0 0 2px rgb(var(--v-theme-primary))
      border-radius: 50%

    &:hover:not(&--disabled):not(&--selected)
      background-color: rgba(var(--v-theme-on-surface), 0.04)
      border-radius: 50%

    &:active:not(&--disabled)
      transform: scale(0.85)

    &-content
      position: relative
      z-index: 1
      display: flex
      align-items: center
      justify-content: center
      width: 100%
      height: 100%
      font-size: 0.875rem
      line-height: 1
      border-radius: 50%

    // --- State classes ---

    &--other-month
      opacity: 0.38

    &--today:not(&--selected)
      .v-advanced-date-month__day-content
        border: var(--v-advanced-date-today-border)
        border-radius: 50%

    &--selected
      z-index: 2
      .v-advanced-date-month__day-content
        background-color: var(--v-advanced-date-selected-bg)
        color: var(--v-advanced-date-selected-text)
        border-radius: 50%

    &--range-start
      border-radius: 50% 0 0 50%
      background-color: var(--v-advanced-date-range-bg)
      .v-advanced-date-month__day-content
        background-color: var(--v-advanced-date-selected-bg)
        color: var(--v-advanced-date-selected-text)
        border-radius: 50%

    &--range-end
      border-radius: 0 50% 50% 0
      background-color: var(--v-advanced-date-range-bg)
      .v-advanced-date-month__day-content
        background-color: var(--v-advanced-date-selected-bg)
        color: var(--v-advanced-date-selected-text)
        border-radius: 50%

    &--in-range
      background-color: var(--v-advanced-date-range-bg)
      border-radius: 0

    &--hover-range
      background-color: var(--v-advanced-date-range-hover-bg)
      border-radius: 0

    &--hover-start
      border-radius: 50% 0 0 50%
      background-color: var(--v-advanced-date-range-hover-bg)

    &--hover-end
      border-radius: 0 50% 50% 0
      background-color: var(--v-advanced-date-range-hover-bg)
      .v-advanced-date-month__day-content
        border: 2px solid var(--v-advanced-date-selected-bg)
        border-radius: 50%

    &--disabled
      opacity: 0.26
      cursor: not-allowed
      pointer-events: none

  // Mobile: larger touch targets
  &--mobile
    .v-advanced-date-month__weekdays
      grid-template-columns: repeat(7, var(--v-advanced-date-cell-size-mobile))

    .v-advanced-date-month__weekday
      width: var(--v-advanced-date-cell-size-mobile)

    .v-advanced-date-month__week
      grid-template-columns: repeat(7, var(--v-advanced-date-cell-size-mobile))

    .v-advanced-date-month__day
      width: var(--v-advanced-date-cell-size-mobile)
      height: var(--v-advanced-date-cell-size-mobile)
